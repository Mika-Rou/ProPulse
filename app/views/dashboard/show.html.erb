<%# ! affichage PROFIL utilisateur %>
<div class="container d-flex justify-content-center">
  <div class="card mb-3 rounded-4" style="max-width: 540px;">
    <div class="row g-0">
      <div class="col-md-4">
        <img src="https://images.unsplash.com/photo-1511367461989-f85a21fda167?q=80&w=1931&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" class="img-fluid rounded-start h-100 object-fit-cover rounded-start-4" alt="...">
      </div>
      <div class="col-md-8">
        <div class="card-body">
          <h5 class="card-title"><%= @user.first_name %> <%= @user.last_name %></h5>
          <p class="card-text"><%= @user.birth_date %></p>
          <p class="card-text"><%= @user.address %></p>
          <p class="card-text"><small class="text-body-secondary">Moyenne: <%= @user.grade %>/20</small></p>
        </div>
      </div>
    </div>
  </div>
</div>

<%# ! Synthèse tests PROFIL utilisateur%>
<div class="container">
  <hr>
  <div class="text-center">
    <h2>Découvrez vos <em>résultats</em> <br> et <strong>explorez</strong> votre avenir !</h2>
    <br>
    <p class= "text-justify-center">
      Ce candidat présente un intérêt marqué pour l'informatique, notamment le développement logiciel.
      Il possède une pensée logique et méthodique, aimant résoudre des problèmes complexes de manière
      structurée. Son approche autonome et introspective, combinée à une forte intelligence logique,
      lui permet de se concentrer et de persévérer dans des tâches techniques. Curieux et passionné
      par l’apprentissage, il recherche des défis intellectuels et montre un véritable goût pour
      l'innovation, ce qui fait de lui un excellent profil pour un poste de développeur.
    </p>
  </div>
</div>

<%# ! DASHBOARD %>
<div class="container mt-5" style="height: 600px">
  <div class="row gap-3 flex-nowrap w-100 my-3">

    <%# COLONNE 1 %>
    <div class="col-4 text-start border border-black rounded-4 pt-3">
      <h5 class="text-end">TOP 10 métiers</h5>
      <div class="list-group">
        <% @jobs.each do |job| %>
        <a href="#" class="list-group-item list-group-item-action list-group-item-light mb-2 rounded-4"><%= job.name %></a>
        <% end %>
      </div>
    </div>

    <%# ! COLONNE 2 %>
      <%#  ! DESCRIPTION METIER %>
    <div class="col-4 text-start">
      <div class="d-flex flex-column justify-content-between h-100">
        <div class="border border-black rounded-4 mb-3 h-25 pt-3">
          <h5 class="text-end me-3">Description</h5>
          <p class="ms-3"><%= @job.description %></p>
        </div>

      <%# ! FORMATIONS DISPONIBLES %>
        <div class="border border-black rounded-4 h-75 pt-3">
          <h5 class="text-end me-3">Formations</h5>
          <%= column_chart @formations_for_job,
            colors: ["#3498DB"],
            library: {
              title: { display: true, text: "Durée des formations associées", fontSize: 18 },
              legend: { display: false },
              scales: {
              xAxes: [{ ticks: { fontSize: 14 } }], # Gère les labels sur l'axe X (noms des formations)
              yAxes: [{ ticks: { beginAtZero: true, stepSize: 1, fontSize: 14 } }] # Durées sur Y
              }
            }
          %>
        </div>
      </div>
    </div>

    <%# ! COLONNE 3 %>
    <div class="col-4 text-center">
      <div class="d-flex flex-column justify-content-between h-100">
        <div class="border border-black rounded-4 h-75 mb-3 pt-3">
            <%= pie_chart @category_score,
            donut: true,
            colors: ["#1700AD", "#0072E6", "#00ABB2", "#78D67E"],
            library: {
              plugins: {legend: {position: 'bottom'}},
              animation: { duration: 2000, easing: "easeOutBounce" }
            }
            %>
        </div>
        <div class="border border-black rounded-4 h-25 pt-3">
          <h5>Salaire moyen</h5>
          <p class="fs-1"><strong><%= @job.salary %>€</strong></p>
        </div>
      </div>
    </div>
  </div>
</div>
