<%# <div class="list-group">
  <% jobs.first(10).each do |job| %>
  <%#= link_to job.name, job_path(job, format: :turbo_stream ), data: {turbo_stream: ""}, class: "list-group-item list-group-item-action list-group-item-light mb-2 rounded-4" %>
  <%# end %>
<%# </div> %>
<div class="list-group" id="job-list">
  <% if jobs.any? %>
    <% jobs.each_with_index do |job, i| %>
      <%= link_to job["name"], job_path(job, format: :turbo_stream),
        data: { turbo_stream: "" },
        class: "list-group-item list-group-item-action mb-2 rounded-4 #{'list-group-item-primary active' if i == 0}" %>
    <% end %>
  <% end %>
</div>


<script>
  document.addEventListener("DOMContentLoaded", function() {
    const jobList = document.getElementById("job-list");
    const links = jobList.querySelectorAll("a");

    links.forEach(link => {
      link.addEventListener("click", function(event) {

        // On enlève 'active' + la classe couleur de tous les liens
        links.forEach(l => {
          l.classList.remove("active", "list-group-item-primary");
        });

        // On ajoute 'active' et la couleur sur le lien cliqué
        this.classList.add("active", "list-group-item-primary");

        // Si tu veux aussi gérer l'action turbo stream, enlève le preventDefault plus haut !
      });
    });
  });
</script>
